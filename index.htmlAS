<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <title>Poema Talking Together</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap" rel="stylesheet">
    <style>
#sendButton{border-radius: 100px;
  color: white;
  background-color: #12d87e;
  border: transparent;
  padding: 8px 20px 8px 20px;}

  .othertext{font-size: 2.3vh; margin: 20px;word-wrap: break-word; border-radius: 100px;background-color: #262626; max-width: 55vw; width: max-content;padding: 10px 20px 10px 20px;}      
  .mytext{font-size: 2.3vh; margin: 20px;word-wrap: break-word; border-radius: 100px;background:white;color: #2e2e2e; max-width: 55vw; width: max-content;padding: 10px 20px 10px 20px;}
        #messageInput{color: #fafafa; font-size: 15px;background-color: #242424; width: 50%;height: 6vh;border-radius: 100px;border: 100px white 100px;border: transparent;padding: 2vh;/*! width: -moz-available; *//*! text-align: center; */}
      
      #messages{height: 80vh; max-height: 80vh; overflow-y: auto; margin-bottom: 10vh;}
        body{
            padding:0px;
            margin:0px;
            background-color: #141414;
            color: #cecdcd;
            font-size: 3vh;;
            font-weight:bold;
            font-family: 'Roboto Condensed', sans-serif;
        }
        nav{
            background-color:#242424;
            height: 100vh;
            width: 10vh;
            float: right;
            padding: 2vh;

        }
        header{
            width: 44vh;
            height: 7vh;
            background-color: #242424;
            padding-top: 1.2vh;
padding-left: 2.2vh;
padding-right: 2.2vh;
padding-bottom: 1vh;
position: absolute;
        
            
        }
        list{
            background-color: #181818;
            height: 93vh;
            width: 44vh;;
            float: left;
            font-size: 2.5vh;;
            margin-top: 7vh;
          

            
        }
        .bi-compass{
            float: right;
            margin-top: 0.5vh;

        }
        .groups-text{
            color :#b3b2b2;
            font-size: 2.7vh;
           
        }
        .userpp{
            width: 7vh;
            height: 7vh;
            margin-right: 1vh;
           
            border-radius: 6vh;
        }
        .username{
            font-size: 2.4vh;
           
        }
        
        
       
        tbody, td, tfoot, th, thead, tr{
            border-color: inherit;
    border-style: solid;
    border-width: 0;
    padding: 0.6vh;
        }
        .user-text{
           
            
            color: #9f9f9f;
            font-size: 2vh;
        }
        .overflow{
            overflow: scroll;
            width: 42vh;
            height: 79vh;
         scrollbar-color: #292929 #181818;
            margin: 2vh;
}
        tr{
            max-width: 1vh;
        }
        .nav-list{
           width: 5vh;
           height: 5vh;
           margin-top: 2vh;
        }
        .nav-list-ico{
            width: 5vh;
           
             height: 4.5vh;
     margin-bottom: 4vh;
     opacity: 1;

        }
        .search{
            width: 39vh;
    background-color: #242424;
    color: #fafafa;
    border: 0.1px solid #464646;
    border-radius: 0.3vh;
    padding: 0.6vh 1.5vh;
    margin-bottom: 2vh;
}
        
        .search-text{
            color:#b3b3b3;
            font-size: 2.2vh;
        }
        html{
            overflow: hidden;
        }
        .hidden{
            opacity: 0;
            
            position: absolute;

        }
      
    
    </style>
</head>
<!--
background-color : #141414
nav-bcolor : #242424
header-bcolor : #242424
list-bcolor : #181818
status-online : #d01c1c

-->

<body>
   <nav>
       <table>
           
        <tr><td class="nav-list">

            <svg xmlns="http://www.w3.org/2000/svg" id="navlist-click" fill="currentColor" class="nav-list-ico" viewBox="0 0 16 16">
                <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>
              </svg>
<div class="bottom-nav-icons">
              <svg xmlns="http://www.w3.org/2000/svg" id="deneme" id="navlist-click" fill="currentColor" class="nav-list-ico" viewBox="0 0 16 16">
                <path d="m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7.029 7.029 0 0 0 2.79-.588zM5.21 3.088A7.028 7.028 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474L5.21 3.089z"/>
                <path d="M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829l-2.83-2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12-.708.708z"/>
              </svg>

     
    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor"  id="deneme" class="nav-list-ico" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6.146-2.854a.5.5 0 0 1 .708 0L14 6.293l1.146-1.147a.5.5 0 0 1 .708.708L14.707 7l1.147 1.146a.5.5 0 0 1-.708.708L14 7.707l-1.146 1.147a.5.5 0 0 1-.708-.708L13.293 7l-1.147-1.146a.5.5 0 0 1 0-.708z"/>
      </svg></div></td></tr>
      


       
    </table>
   </nav>
   <header>
   <span class="groups-text">Friends</span> 

  <svg xmlns="http://www.w3.org/2000/svg" width="3.5vh" height="3.5vh" fill="currentColor" class="bi-compass"  viewBox="0 0 16 16">
    <path d="M1.5 2A1.5 1.5 0 0 0 0 3.5v2h6a.5.5 0 0 1 .5.5c0 .253.08.644.306.958.207.288.557.542 1.194.542.637 0 .987-.254 1.194-.542.226-.314.306-.705.306-.958a.5.5 0 0 1 .5-.5h6v-2A1.5 1.5 0 0 0 14.5 2h-13z"/>
    <path d="M16 6.5h-5.551a2.678 2.678 0 0 1-.443 1.042C9.613 8.088 8.963 8.5 8 8.5c-.963 0-1.613-.412-2.006-.958A2.679 2.679 0 0 1 5.551 6.5H0v6A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-6z"/>
  </svg> 
    </header>
    
   <list>
       
           <table style="border-bottom: 0.1vh solid #464646; margin-top: 1.0vh;">
               <tr>
                   <td style="padding-left: 2vh;"><span class="search-text">Enter friend username</span>
                       <input type="text" name="" id="" placeholder="" class="search">
                   </td>
               </tr>
               
           </table>
           <div class="overflow">
<table>


   
        <tr >
            <td>
            
                <img src="https://static.vecteezy.com/system/resources/thumbnails/049/623/971/small_2x/worldwide-icon-design-vector.jpg" class="userpp"> </td><td>
            <span class="username">General Chat</span> <br>
            <span class="user-text">
             Start to enjoy
            </span>
          </td>
          
        
      </tr>

     
   
  
</table>
</div>
<div class="buttons">
    <button>Login</button>
</div>


    </list>
    
    <chat>
        <div class="chat-container">
            <div class="chat-box" id="chatBox"><i class="bi bi-arrow-right-short"></i>
                <div id="messages"></div>
            </div>
       <center><input type="text" id="messageInput" placeholder="Message">
            <button id="sendButton"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-square-fill" viewBox="0 0 16 16">
                <path d="M2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
              </svg></button></center> </div><i class="bi bi-arrow-right-short"></i>
     
    </chat class="chat">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-W8fXfP3gkOKtndU4JGtKDvXbO53Wy8SZCQHczT5FMiiqmQfUpWbYdTil/SxwZgAN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js" integrity="sha384-skAcpIdS7UcVUC05LJ9Dxay8AXcDYfBJqt1CJ85S/CFujBsIzCIv+l9liuYLaMQ/" crossorigin="anonymous"></script>
<script>
    // WebSocket connection
    const ws = new WebSocket('wss://s14190.blr1.piesocket.com/v3/1?api_key=apH56z0GMUJhyIWNJCoptfHW0oahXfIhGoNr4hzA&notify_self=1');
    
    // Store the last sent message to avoid duplicate display
    let lastSentMessage = null;
    
    // Function to add messages to the chat
    function addMessage(message, isMyMessage) {
        const messageContainer = document.getElementById('messages');
        const newMessage = document.createElement('div');
        
        // Add the class 'mytext' for your message, 'othertext' for others
        if (isMyMessage) {
            newMessage.classList.add('mytext');
        } else {
            newMessage.classList.add('othertext');
        }
    
        newMessage.textContent = message;
        messageContainer.appendChild(newMessage);
        messageContainer.scrollTop = messageContainer.scrollHeight; // Scroll to the bottom
    }
    
    // Handling incoming messages (other person’s messages)
    ws.onmessage = function(event) {
        const message = event.data;
        // Prevent echoing your own message
        if (message !== lastSentMessage) {
            addMessage(message, false); // false means this is not your message
        }
    };
    
    // Sending your message
    const sendButton = document.getElementById('sendButton');
    sendButton.addEventListener('click', () => {
        const messageInput = document.getElementById('messageInput');
        const message = messageInput.value.trim();
    
        if (message) {
            lastSentMessage = message; // Store the message that you sent
            addMessage(message, true); // true means this is your message
            ws.send(message); // Send message to WebSocket server
            messageInput.value = ''; // Clear the input after sending
        }
    });
    
    // Send message with Enter key
    const messageInput = document.getElementById('messageInput');
    messageInput.addEventListener('keydown', (event) => {
        if (event.key === 'Enter') {
            sendButton.click();
        }
    });
    
    // Optional: Close WebSocket connection when done (you can implement this if you want to manage connection lifecycle)
    ws.onclose = () => {
        console.log('WebSocket connection closed');
    };
    
    // Handle error (if needed)
    ws.onerror = (error) => {
        console.log('WebSocket error:', error);
    };
    
    document.getElementById("navlist-click").addEventListener("click", function() {
        document.getElementById("deneme").classList.remove("nav-list-ico");
        document.getElementById("deneme").classList.add("hidden");
    });
    </script>
</script>
<style>
    .buttons {
        position: absolute;
        top: 190px;
        right: 9px; /* Sağdan 50px içeri kaydırma */
    }

    button {
        background-color: #292929; /* Boz (koyu kahverengi) arka plan rengi */
        color: white; /* Beyaz yazı rengi */
        font-family: 'Arial', sans-serif; /* Şık bir font, Arial önerilir */
        font-weight: bold; /* Kalın yazı */
        font-size: 12px; /* Daha küçük yazı boyutu */
        border: none; /* Buton kenarlığını kaldır */
        padding: 6px 12px; /* Küçültülmüş iç padding */
        border-radius: 5px; /* Köşeleri yuvarlat */
        cursor: pointer; /* Butona tıklanabilir işareti */
        transition: background-color 0.3s ease; /* Geçiş efekti */
    }

    button:hover {
        background-color: #5d4037; /* Hover efekti ile daha açık bir kahverengi */
    }
</style>
</style>
</body>
</html>
